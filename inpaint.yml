# parameters
DATASET: 'facades_all_FullSize' # 'facades_all_FullSize' #'facades_all_tuples' #city #'facades_all' #'walls_scaled' #'facades_all', 'facades_scaled' ,'celebahq' , 'tmnist', 'dtd', 'places2', 'celeba', 'imagenet', 'cityscapes' , 'facades'
RANDOM_CROP: False
VAL: TRUE
LOG_DIR: facades_fullsize_sn_patch_NG_BERLINRANDOM
MODEL_RESTORE: '' #'20190529035650577410_6dcdb4e882b5_facades_all_tuples_NORMAL_SN_PatchGAN_full_model_facades_fullsize_tuple_randomcrop_sn_patch_gan_x1pretrain' #'20190523113930616933_ed3f92919415_city_NORMAL_SN_PatchGAN_full_model_places_256_sn_patch_gan' #'20190502082054095172_6ee393d4cfa2_walls_scaled_NORMAL_wgan_gp_full_model_walls_allSets_256' # 'release_places2_256'  # '20180115220926508503_jyugpu0_places2_NORMAL_wgan_gp_full_model'

GAN: 'SN_PatchGAN' #'SN_PatchGAN' #'wgan_gp'  # 'dcgan', 'lsgan', 'wgan_gp', 'one_wgan_gp'
MASK:  'BERLIN_RANDOM' #"BERLIN_RANDOM" # 'BBOX' , 'STROKE'
GATED: True
GAN_SPEC: 'NG'
SEGMENTATION: False #Set to true if you provide a segmentation mask with the image. The segmentation mask should have the values 0 to SEGMENTATION_CLASSES - 1
X2SEG: False # Weather the segmentation information should be fed to the x2 stage as input or not
SEGMENTATION_CLASSES: 8
PRETRAIN_COARSE_NETWORK: False
GAN_LOSS_ALPHA: 0.1  # dcgan: 0.0008, wgan: 0.0005, onegan: 0.001 sngan: 0.1
WGAN_GP_LAMBDA: 10
COARSE_L1_ALPHA: 1.2
L1_LOSS_ALPHA: 1.
AE_LOSS_ALPHA: 1.2
GAN_WITH_MASK: False
DISCOUNTED_MASK: True
RANDOM_SEED: False
PADDING: 'SAME'

# training
NUM_GPUS: 1
GPU_ID: 0  # -1 indicate select any available one, otherwise select gpu ID, e.g. [0,1,3]
TRAIN_SPE: 4000
MAX_ITERS: 1000000
VIZ_MAX_OUT: 10
GRADS_SUMMARY: True
GRADIENT_CLIP: False
GRADIENT_CLIP_VALUE: 0.1
VAL_PSTEPS: 1000

# data
DATA_FLIST:
  # https://github.com/JiahuiYu/progressive_growing_of_gans_tf
  celebahq: [
    'data/celeba_hq/train_shuffled.flist',
    'data/celeba_hq/validation_static_view.flist'
  ]
  # http://mmlab.ie.cuhk.edu.hk/projects/CelebA.html, please to use RANDOM_CROP: True
  celeba: [
    'data/celeba/train_shuffled.flist',
    'data/celeba/validation_static_view.flist'
  ]
  # http://places2.csail.mit.edu/, please download the high-resolution dataset and use RANDOM_CROP: True
  places2: [
    'data/places2/train_shuffled.flist',
    'data/places2/validation_static_view.flist'
  ]
  # http://www.image-net.org/, please use RANDOM_CROP: True
  imagenet: [
    'data/imagenet/train_shuffled.flist',
    'data/imagenet/validation_static_view.flist',
  ]
  facades: [
    'data_flist/train_shuffled.flist',
    'data_flist/validation_shuffled.flist',
  ]
  facades_scaled: [
    'data_flist/train_256_shuffled.flist',
    'data_flist/validation_256_shuffled.flist',
  ]
  facades_all: [
    'data_flist/train_allFacades_shuffled.flist',
    'data_flist/validation_allFacades_shuffled.flist',
  ]
  walls_scaled: [
    'data_flist/train_walls_scaled_shuffled.flist',
    'data_flist/validation_walls_scaled_shuffled.flist',
  ]
  places: [
    'data_flist/train_places_256.flist',
    'data_flist/val_places_256.flist',
  ]
  city: [
    'data_flist/train_shuffled_city.flist',
    'data_flist/validation_shuffled_city.flist',
  ]
  facades_all_tuples: [
    'data_flist/train_facades_fullsize_tuple_shuffled.flist',
    'data_flist/val_facades_fullsize_tuple_shuffled.flist'
  ]
  facades_all_FullSize: [
    'data_flist/train_facades_fullsize_shuffled.flist',
    'data_flist/val_facades_fullsize_shuffled.flist'
  ]

STATIC_VIEW_SIZE: 30
IMG_SHAPES: [256, 256, 3]
SEG_SHAPES: [256,256,1]
HEIGHT: 128
WIDTH: 128
MAX_DELTA_HEIGHT: 32
MAX_DELTA_WIDTH: 32
BATCH_SIZE: 8
VERTICAL_MARGIN: 0
HORIZONTAL_MARGIN: 0

#Engineering Parameters
RANDOM_LABELFLIP : True
LABELFLIP_PROB : 0.05


#Mask creation
MAX_VERTEX: 5
MAX_LENGTH: 80
MAX_BUSH_WIDTH: 40
MAX_ANGLE: 1
NUM_STROKES: 4
DIAGONAL_LENGTH_MEAN: 128
DIAGONAL_LENGTH_DEVIATION: 0.1  #Relative to the first random length
CROSS_POINT_DEVIATION: 0.2
CROSS_ANGLE_MEAN: 1.570796327
CROSS_ANGLE_DEVIATION : 0.196349541

STEM_WIDTH_MEAN : 30
STEM_WIDTH_DEVIATION : 10
STEM_HEIGHT_MEAN : 60
STEM_HEIGHT_DEVIATION : 20
CROWN_WIDTH_MEAN : 70
CROWN_WIDTH_DEVIATION : 15
CROWN_HEIGHT_MEAN : 100
CROWN_HEIGHT_DEVIATION : 20

CROWN_GROUP_WIDTH_MEAN : 70
CROWN_GROUP_WIDTH_DEVIATION : 15
CROWN_GROUP_HEIGHT_MEAN : 100
CROWN_GROUP_HEIGHT_DEVIATION : 40
CROWN_ANGLE_MEAN : 0
CROWN_ANGLE_DEVIATION: 25
MIN_TREES: 4
MAX_TREES: 12

# loss
AE_LOSS: True
L1_LOSS: True
GLOBAL_DCGAN_LOSS_ALPHA: 1.
GLOBAL_WGAN_LOSS_ALPHA: 1.
SNGAN_LOSS_ALPHA: 0.1

# loss legacy
LOAD_VGG_MODEL: False
VGG_MODEL_FILE: data/model_zoo/vgg16.npz
FEATURE_LOSS: False
GRAMS_LOSS: False
TV_LOSS: False
TV_LOSS_ALPHA: 0.
FEATURE_LOSS_ALPHA: 0.01
GRAMS_LOSS_ALPHA: 50
SPATIAL_DISCOUNTING_GAMMA: 0.9
